<% provide(:title, @detection.code) %>

<h2>Training</h2>

<div class="row-fluid">
	<div class="span1">
		<section>
			<%= thumb_for @detection.user %></br>
			<h4>
				<%= @detection.code %>
			</h4>
		</section>
	</div>
	<div class="span8">
		<div class="row-fluid">
			<div class="span1 offset1 eqh">
				<span class="label label-important spot">Important</span>
			</div>
			<div class="span9 offset1 pull-right eqhBase">
				<p>Please use the 5 character code on the left to review the results of the detection, when you have completed the process.</p>
			</div>
		</div>
	</div>
</div>
<div class="row-fluid">
	<div class="well well-small span12">
		<p class="text-info">The experiment is divided in two phases:</p>
		<dl class="dl-horizontal">
			<dt>
				<span class="label label-important">[TRAINING]</span>:
			</dt>
			<dd>you will look at a large amount of labeled images including known <span class="badge badge-info">mitotic nuclei</span>, as well as other structures which look similar but are known <span class="badge badge-warning">NOT to be mitotic nuclei</span>. Just like our algorithms, you should try to find out some criteria to tell the two classes apart.</dd>
			<dt>
				<span class="label label-success">[EVALUATION]</span>:
			</dt>
			<dd>then, we will show several unlabeled images, and you will be asked to classify each of them as either <span class="badge badge-info">MITOSIS</span> or <span class="badge badge-warning">NON-MITOSIS</span>. During evaluation, you still have access to the full set of training examples to use as a reference, and you can take as much time as you want.</dd>
		</dl>
	</div>
	<div class="row-fluid">
		<div class="span6 well pull-left">
			<div class="row-fluid">
				<div class="span12">
					<h3><span class="badge badge-info">Mitotic samples</span></h3>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span12">
					<% (0..5).each do |row_index| %>
						<div class="row-fluid">
							<ul class="thumbnails">
								<% (0..5).each do |col_index| %>
									<li class="span2">
										<a href="#" class="thumbnail">
											<% code = @positive_keys[row_index * 6 + col_index] %>
											<%= image_tag(@detection.positive_training[code][1], alt: code, title: code) %>
										</a>
									</li>
								<% end %>
							</ul>
						</div>
					<% end %>
					<%= will_paginate @positive_keys %>
				</div>
			</div>
		</div>

		<div class="span6 well pull-right">
			<div class="row-fluid">
				<div class="span12">
					<h3><span class="badge badge-info">Mitotic samples</span></h3>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span12">
					<% (0..5).each do |row_index| %>
						<div class="row-fluid">
							<ul class="thumbnails">
								<% (0..5).each do |col_index| %>
									<li class="span2">
										<a href="#" class="thumbnail">
											<% code = @negative_keys[row_index * 6 + col_index] %>
											<%= image_tag(@detection.negative_training[code][1], alt: code, title: code) %>
										</a>
									</li>
								<% end %>
							</ul>
						</div>
					<% end %>
					<%= will_paginate @negative_keys %>
				</div>
			</div>
		</div>
	</div>

	<div class="row-fluid">
		<div class="span12 well divCenter">
			<%= link_to "Start Detection!", test_detection_path(@detection), class: "btn btn-large btn-primary", id: "trButton" %>
		</div>
	</div>
</div>
